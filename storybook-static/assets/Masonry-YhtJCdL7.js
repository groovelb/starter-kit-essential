import{r as re}from"./index-DUeF1Pkm.js";import{v as se,T as ie,r as m,I as D,j as K,c as oe}from"./iframe-q-XN_VZM.js";import{u as ce}from"./useThemeProps-CFXzbazh.js";import{s as ue}from"./memoTheme-BW0efeYW.js";function ae({props:e,name:t}){return ce({props:e,name:t,defaultTheme:se,themeId:ie})}function le(e,t,r=void 0){const s={};for(const n in e){const i=e[n];let c="",o=!0;for(let u=0;u<i.length;u+=1){const a=i[u];a&&(c+=(o===!0?"":" ")+t(a),o=!1,r&&r[a]&&(c+=" "+r[a]))}s[n]=c}return s}function N(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function G(e){if(m.isValidElement(e)||D.isValidElementType(e)||!N(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=G(e[r])}),t}function H(e,t,r={clone:!0}){const s=r.clone?{...e}:e;return N(e)&&N(t)&&Object.keys(t).forEach(n=>{m.isValidElement(t[n])||D.isValidElementType(t[n])?s[n]=t[n]:N(t[n])&&Object.prototype.hasOwnProperty.call(e,n)&&N(e[n])?s[n]=H(e[n],t[n],r):r.clone?s[n]=N(t[n])?G(t[n]):t[n]:s[n]=t[n]}),s}function fe(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function de(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,s,n]=r,i=Number.isNaN(+s)?s||0:+s;return e.containerQueries(n).up(i)}const P={xs:0,sm:600,md:900,lg:1200,xl:1536},Q={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${P[e]}px)`},me={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:P[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function W(e,t,r){const s=e.theme||{};if(Array.isArray(t)){const i=s.breakpoints||Q;return t.reduce((c,o,u)=>(c[i.up(i.keys[u])]=r(t[u]),c),{})}if(typeof t=="object"){const i=s.breakpoints||Q;return Object.keys(t).reduce((c,o)=>{if(fe(i.keys,o)){const u=de(s.containerQueries?s:me,o);u&&(c[u]=r(t[o],o))}else if(Object.keys(i.values||P).includes(o)){const u=i.up(o);c[u]=r(t[o],o)}else{const u=o;c[u]=t[u]}return c},{})}return r(t)}function ge(e,t){if(typeof e!="object")return{};const r={},s=Object.keys(t);return Array.isArray(e)?s.forEach((n,i)=>{i<e.length&&(r[n]=!0)}):s.forEach(n=>{e[n]!=null&&(r[n]=!0)}),r}function q({values:e,breakpoints:t,base:r}){const s=r||ge(e,t),n=Object.keys(s);if(n.length===0)return e;let i;return n.reduce((c,o,u)=>(Array.isArray(e)?(c[o]=e[u]!=null?e[u]:e[i],i=u):typeof e=="object"?(c[o]=e[o]!=null?e[o]:e[i],i=o):c[o]=e,c),{})}function pe(e,t,r=!0){if(e&&e.vars&&r){const s=`vars.${t}`.split(".").reduce((n,i)=>n&&n[i]?n[i]:null,e);if(s!=null)return s}return t.split(".").reduce((s,n)=>s&&s[n]!=null?s[n]:null,e)}const ye=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],he=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ye,...he];function be(e,t,r,s){const n=pe(e,t,!0)??r;return typeof n=="number"||typeof n=="string"?i=>typeof i=="string"?i:typeof n=="string"?n.startsWith("var(")&&i===0?0:n.startsWith("var(")&&i===1?n:`calc(${i} * ${n})`:n*i:Array.isArray(n)?i=>{if(typeof i=="string")return i;const c=Math.abs(i),o=n[c];return i>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof n=="function"?n:()=>{}}function xe(e){return be(e,"spacing",8)}function z(e,t){return typeof t=="string"||t==null?t:e(t)}const k=e=>e,Ce=()=>{let e=k;return{configure(t){e=t},generate(t){return e(t)},reset(){e=k}}},Ee=Ce(),Me={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function _(e,t,r="Mui"){const s=Me[t];return s?`${r}-${s}`:`${Ee.generate(e)}-${t}`}function Ne(e,t,r="Mui"){const s={};return t.forEach(n=>{s[n]=_(e,n,r)}),s}const Se=typeof window<"u"?m.useLayoutEffect:m.useEffect;function $e(...e){const t=m.useRef(void 0),r=m.useCallback(s=>{const n=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const c=i,o=c(s);return typeof o=="function"?o:()=>{c(null)}}return i.current=s,()=>{i.current=null}});return()=>{n.forEach(i=>i?.())}},e);return m.useMemo(()=>e.every(s=>s==null)?null:s=>{t.current&&(t.current(),t.current=void 0),s!=null&&(t.current=r(s))},e)}function Oe(e){return _("MuiMasonry",e)}Ne("MuiMasonry",["root"]);const h=e=>Number(e.replace("px","")),ve={flexBasis:"100%",width:0,margin:0,padding:0},Te=e=>{const{classes:t}=e;return le({root:["root"]},Oe,t)},Be=({ownerState:e,theme:t})=>{let r={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const s={};if(e.isSSR){const a={},l=h(t.spacing(e.defaultSpacing));for(let f=1;f<=e.defaultColumns;f+=1)a[`&:nth-of-type(${e.defaultColumns}n+${f%e.defaultColumns})`]={order:f};return s.height=e.defaultHeight,s.margin=-(l/2),s["& > *"]={...r["& > *"],...a,margin:l/2,width:`calc(${(100/e.defaultColumns).toFixed(2)}% - ${l}px)`},{...r,...s}}const n=q({values:e.spacing,breakpoints:t.breakpoints.values}),i=xe(t);r=H(r,W({theme:t},n,a=>{let l;if(typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number"){const f=Number(a);l=z(i,f)}else l=a;return{margin:`calc(0px - (${l} / 2))`,"& > *":{margin:`calc(${l} / 2)`},...e.maxColumnHeight&&{height:typeof l=="number"?Math.ceil(e.maxColumnHeight+h(l)):`calc(${e.maxColumnHeight}px + ${l})`}}}));const o=q({values:e.columns,breakpoints:t.breakpoints.values});return r=H(r,W({theme:t},o,a=>{const f=`${(100/Number(a)).toFixed(2)}%`,C=typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"?z(i,Number(n)):"0px";return{"& > *":{width:`calc(${f} - ${C})`}}})),typeof n=="object"&&(r=H(r,W({theme:t},n,(a,l)=>{if(l){const f=Number(a),C=Object.keys(o).pop(),L=z(i,f);return{"& > *":{width:`calc(${`${(100/(typeof o=="object"?o[l]||o[C]:o)).toFixed(2)}%`} - ${L})`}}}return null}))),r},Re=ue("div",{name:"MuiMasonry",slot:"Root"})(Be),Ae=m.forwardRef(function(t,r){const s=ae({props:t,name:"MuiMasonry"}),{children:n,className:i,component:c="div",columns:o=4,spacing:u=1,sequential:a=!1,defaultColumns:l,defaultHeight:f,defaultSpacing:C,...L}=s,E=m.useRef(),[A,X]=m.useState(),U=!A&&f&&l!==void 0&&C!==void 0,[Y,J]=m.useState(U?l-1:0),F={...s,spacing:u,columns:o,maxColumnHeight:A,defaultColumns:l,defaultHeight:f,defaultSpacing:C,isSSR:U},Z=Te(F),B=m.useCallback(()=>{if(!E.current)return;const y=E.current,p=Array.from(y.childNodes).find(g=>g.nodeType===Node.ELEMENT_NODE&&g.dataset.class!=="line-break"&&window.getComputedStyle(g).display!=="none");if(!p)return;const R=y.clientWidth,b=p.clientWidth;if(R===0||b===0)return;const S=window.getComputedStyle(p),x=h(S.marginLeft),j=h(S.marginRight),d=Math.round(R/(b+x+j)),$=new Array(d).fill(0);let O=!1,v=1;y.childNodes.forEach(g=>{if(g.nodeType!==Node.ELEMENT_NODE||g.dataset.class==="line-break"||O)return;const T=window.getComputedStyle(g);if(T.display==="none")return;const te=h(T.marginTop),ne=h(T.marginBottom),I=h(T.height)?Math.ceil(h(T.height))+te+ne:0;if(I===0){O=!0;return}for(let M=0;M<g.childNodes.length;M+=1){const w=g.childNodes[M];if(w.tagName==="IMG"&&w.clientHeight===0){O=!0;break}}if(!O)if(a)$[v-1]+=I,g.style.order=v,v+=1,v>d&&(v=1);else{const M=$.indexOf(Math.min(...$));$[M]+=I;const w=M+1;g.style.order=w}}),O||queueMicrotask(()=>{E.current&&re.flushSync(()=>{X(Math.max(...$)),J(d>0?d-1:0)})})},[a]);Se(()=>{if(typeof ResizeObserver>"u"||typeof MutationObserver>"u")return;const y=E.current;if(!y)return;let p;const R=()=>{clearTimeout(p),p=setTimeout(B,16)},b=new ResizeObserver(R),S=new MutationObserver(x=>{x.forEach(j=>{j.addedNodes.forEach(d=>{d instanceof HTMLElement&&d.dataset.class!=="line-break"&&b.observe(d)}),j.removedNodes.forEach(d=>{d instanceof HTMLElement&&d.dataset.class!=="line-break"&&b.unobserve(d)})}),B()});return Array.from(y.childNodes).forEach(x=>{x instanceof HTMLElement&&x.dataset.class!=="line-break"&&b.observe(x)}),S.observe(y,{childList:!0}),B(),()=>{clearTimeout(p),b.disconnect(),S.disconnect()}},[B,o,u,n]);const V=$e(r,E),ee=new Array(Y).fill("").map((y,p)=>K.jsx("span",{"data-class":"line-break",style:{...ve,order:p+1}},p));return K.jsxs(Re,{as:c,className:oe(Z.root,i),ref:V,ownerState:F,...L,children:[n,ee]})});export{Ae as M};
